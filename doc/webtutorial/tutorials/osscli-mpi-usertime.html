<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=ISO-8859-1">
    <title>Using Open|SpeedShop&#8482;</title>
    <style type="text/css">
table.exp {
	border-width: 0px 0px 0px 0px;
	border-spacing: 0px;
	border-style: outset outset outset outset;
	border-color: gray gray gray gray;
	border-collapse: collapse;
	background-color: white;
	width:80%;
	height:80%;
}
table.exp th {
	border-width: 1px 1px 1px 1px;
	padding: 7px 7px 7px 7px;
	border-style: inset inset inset inset;
	border-color: gray gray gray gray;
	background-color: white;
	-moz-border-radius: 0px 0px 0px 0px;
}
table.exp td {
	border-width: 1px 1px 1px 1px;
	padding: 7px 7px 7px 7px;
	border-style: inset inset inset inset;
	border-color: gray gray gray gray;
	background-color: white;
	-moz-border-radius: 0px 0px 0px 0px;
}
  </style>
  </head>
  <body>
    <center> <img src="../img/OpenSpeedShop_Logo.jpg"> <br>
      Using Open|SpeedShop&#8482;<br>
    </center>
    <h2 id="climpi">Using Open|SpeedShop's CLI</h2>
    <p>Within a terminal window, enter <b><font face="courier">openss
          -cli </font></b>and hit &lt;Enter&gt;. <br>
    </p>
    <p>This will start Open|SpeedShop's interactive command line
      interface. <br>
    </p>
    <p>In this particular example, we are going to gather user time
      information from an MPI job (<b>Note:</b> We are going to simulate
      an MPI run by oversubscribing our processor). <br>
    </p>
    <p>For demonstration purposes, we are going to gather information
      from one of Open|SpeedShop's supported implementations of the
      message passing interface - OpenMPI. <br>
      We have provided test binaries that can be utilized for our
      purposes. </p>
    <p>Within the interactive CLI, enter <b><font face="courier">expcreate
-f

          "mpirun -np 2 /home/openssuser/mpi/smg2000/test/smg2000"
          usertime</font></b><br>
      <b>Note: </b> In this particular case, the double quotes are
      required). <br>
    </p>
    <p>We should then be greeted with a new focused experiment
      identifier.<br>
      Enter <b><font face="courier">expgo</font></b> to start the
      focused experiment. <br>
      <br>
    </p>
    &nbsp; <img style=" width: 1196px; height: 589px;" alt="Running in
      the CLI first step" src="../img/smg2000-usertime-cli1.png"><br>
    <img style=" width: 1196px; height: 661px;" alt="expgo command and
      output" src="../img/smg2000-usertime-cli2.png"><br>
    <p>Once the experiment has terminated, we can view the collected
      data through the CLI by entering <b><font face="courier">expview</font></b>,
      or we can open the GUI by entering <b><font face="courier">openGui</font></b>.
      <br>
    </p>
    <p>Other test binaries are located in
      /home/openssuser/sequential/smg2000/test and
      /home/openssuser/mpi/smg2000/test and are supplied for further
      exploration. </p>
    Please also explore the various options offered via a panel's pull
    down menu. Further options can be accessed by clicking on a colored
    downward-facing arrow.<br>
    <br>
    &nbsp;<img style=" width: 1087px; height: 727px;" alt="GUI view from
      opengui command" src="../img/smg2000-usertime-cli11.png"> <br>
    <br>
    There are alternative views of the gathered usertime
    data.&nbsp;&nbsp; The following slides show these alternative views.<br>
    <br>
    Here we examine the hot call path in the program by clicking on the
    HC StatsPanel Icon.<br>
    <br>
    <br>
    <img style=" width: 1087px; height: 727px;" alt="GUI hot call path"
      src="../img/smg2000-usertime-cli12.png"><br>
    <br>
    In this view we show the performance data listed per program
    statement.&nbsp;&nbsp; Do this by clicking on the "S" icon.<br>
    <br>
    <img style=" width: 1087px; height: 727px;" alt="GUI Show
      statements" src="../img/smg2000-usertime-cli13.png"><br>
    <br>
    <br>
    Sometimes it may be beneficial to see where the overall time is
    being spent.&nbsp;&nbsp; Here the performance data is shown per
    linked or program object.<br>
    Show this by clicking on the "L" icon.<br>
    <br>
    <img style=" width: 1087px; height: 727px;" alt="GUI - Show linked
      objects (libraries)" src="../img/smg2000-usertime-cli14.png"><br>
    <br>
    In this view the minimum, maximum, and average values are shown as
    computed across the threads, processes, or ranks of an
    application.&nbsp;&nbsp; <br>
    To see this view click on the "LB" icon.<br>
    <br>
    <img style=" width: 1087px; height: 727px;" alt="GUI - Show load
      balance" src="../img/smg2000-usertime-cli15.png"><br>
    <br>
    Now, after selecting the Close menu iten in the File Menu in the
    GUI, we remain active in the CLI.&nbsp;&nbsp; Here we show the same
    results that we obtained in the GUI<br>
    can be shown via commands entered into the interactive CLI
    tool.&nbsp;&nbsp; Here the expview command gives the default view
    similar to the GUI default view.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="expview output"
      src="../img/smg2000-usertime-cli4.png"><br>
    <br>
    The load balance option shows the min, max, average time across all
    ranks in the program.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="CLI 5"
      src="../img/smg2000-usertime-cli5.png"><br>
    <br>
    This shows the two callpaths in the program that took the most time.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="Call paths"
      src="../img/smg2000-usertime-cli6.png"><br>
    <br>
    The "-v statements" phrase tells the CLI to display per statement
    information about the experiment.<br>
    usertime5 tells the CLI to only show the top 5 time critical
    statements.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="CLI 7"
      src="../img/smg2000-usertime-cli7.png"><br>
    <br>
    Get the experiment status after the run is complete.&nbsp; It now
    has more information than the expstatus we did after expcreate and
    before expgo.<br>
    Also, list the libraries involved in the experiment.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="CLI 8"
      src="../img/smg2000-usertime-cli8.png"><br>
    <br>
    Here we list the source files that had performance information.<br>
    <br>
    <img style=" width: 1178px; height: 715px;" alt="List source"
      src="../img/smg2000-usertime-cli9.png"><br>
    <br>
    Here we list information for only one rank at a time and then
    compare the rank information using the expcompare command.<br>
    <br>
    <img style=" width: 1187px; height: 823px;" alt="CLI 10"
      src="../img/smg2000-usertime-cli10.png"><br>
    <br>
    Thanks!<br>
    <br>
    Please visit the Open|SpeedShop forum if you have questions:&nbsp; <a
      href="http://www.openspeedshop.org/forums/index.php">Open|SpeedShop
      Forum.</a><br>
    <br>
    <a href="../index.html">Back To Getting Started With Open|SpeedShop</a>
  </body>
</html>
